hus expert kind new follow question strange try modify colormap fail without reason use follow piece code null true null cell cell color printf try color color printf color else printf error color cell run output try color color return original value display colormap obvious also try draw line use color turn color problem modify colormap appreciate please send mail william email way follow environment use output show default visual version number vendor string vendor release number request size byte buffer size unit bit order image byte order number support format support format range number extension shape default screen number number screen screen pixel resolution per inch root window id root window plane number colormap default colormap default number colormap cell pixel black white option yes yes current input event mask number visual default visual id visual visual id class plane size colormap entry red green blue mask significant bit color bit visual visual id class plane size colormap entry red green blue mask significant bit color bit visual visual id class plane size colormap entry red green blue mask significant bit color bit visual visual id class plane size colormap entry red green blue mask significant bit color bit visual visual id class plane size colormap entry red green blue mask significant bit color bit number type visual id max buffer visual id max buffer visual id max buffer visual id max buffer visual id max buffer number type